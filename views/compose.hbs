<section class="container">
  <h4 class="title">New Post</h4>

  <form class="edit" action="/compose" method="post">
    <input type="text" value="{{credentials.current_user}}" name="ownerusername" hidden/>
    <!-- Triggers /images route-->
    <button class="edit__feature-image-btn button button--blue button--free-width">Select Image</button>
    <!-- Triggers /images route-->
    <button class="edit__clear-image-btn">-</button>
    <!-- Outputs Image url -->
    <input type="text" class="edit__feature-image-input" name="imageurl" hidden />
    <!-- Output Image -->
    <img class="edit__feature-image-output" src=""/>

    <!--Title-->
    <label for="edit__title-input" class="edit__label">Set Title</label>
      <input type="text" class="edit__text-input" name="posttitle" id="edit__title-input" pattern="[A-Za-z\d\s]+" title="Only letters, numbers and spaces when creating a title you moron (reason: this will get converted to a uri). After the post is made, you can change the title to whatever the hello you like" required/>

    <!-- Category Select -->
    <label for="categoryname" class="edit__label">Choose Category</label>
    <select class="select" name="categoryname">
      {{#each categories}}
        <option class="select__option" {{#select this ../post.categoryname}}{{/select}}>{{this}}</option>
      {{/each}}
    </select>

    <!-- Live -->
    <label for="live" class="edit__label edit__label--toggle">Live
      <input id="live" class="edit__live-checkbox" type="checkbox" name="live" checked>
    </label>

    <!-- Post Body Area-->
    <label for="postbody" class="edit__label">Add Some Words</label>
    <div class="edit__post-container">

      <!-- Button container -->
      <div class="edit__post-mods">
        <!-- Triggers /images route-->
        <button class="edit__add-image-btn button button--blue button--free-width button--inline-block">Add Image</button>
        <!-- Triggers markdown route, takes edit__post-body value, makes xmthttprequest, then -->
        <button class="edit__preview-btn button button--black button--free-width button--inline-block">Preview</button>
      </div>

      <!-- Markdown syntax -->
      <textarea name="postbody" class="edit__post-body"></textarea>
      <!-- Outputs HTML -->
      <div class="edit__post-body-output" style="display: none;"></div>

    </div>

    <!-- Submit-->
    <input class="button button--white button--action" type="submit" />

  </form>
</section>

{{> images}}

<script src="/js/main.js"></script>
